---
title: "Análise de ações do mercado brasileiro usando Apriori e clustering"
image: image.jpg
categories: [Regras de associação, Clustering, Mineração de dados]
execute: 
  eval: false
---

### Dependências 

Inicialmente devemos carregar as dependêncais, o código a seguir irá baixá-las caso elas não estejam instaladas.

```{r}
pacotes <- c(
  "arules",
  "tidyverse",
  "arulesViz",
  "skimr",
  "readr",
  "here",
  "readr",
  "here"
)

for(pckgs in pacotes){
  if(!require(pckgs,character.only = TRUE)) install.packages(pckgs)
  library(pckgs,character.only = TRUE)
}

```

### Pré-processamento dos dados

Os dados com os preços de fechamento das ações e o arquivo com os nomes das ações são carregados.

```{r}
closePriceFile_path <- here(paste0("data","2020closePrice SAX-240_60_10.csv"))
dat <- read.csv(closePriceFile_path) %>%
  select(-c(X, X45))
dat.cols <- read.table(
  dat,
  header = FALSE,
  sep = "\t",
  fileEncoding = "latin1"
)

```

As colunas do quadro de dado \`dat\` são renomeadas com os nomes das empresas presentes em \`dat.cols\`.

As células com informações de ações que tiveram fechamento abaixo e acima da média são substituídas:

-   0 - Ações com preço de fechamento **abaixo** da média

-   1 - Ações com preço de fechamento **acima** da média
